{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="display-6">Profile</h2>
  <form id="profileForm">
    <div class="mb-3">
      <label><em>Email (cannot be change):</em></label>
      <input type="email" class="form-control" value="{{ user.email }}" readonly disabled>
    </div>
    <div class="mb-3">
      <label>Name:</label>
      <input type="text" class="form-control" name="name" value="{{ user.name }}">
    </div>
    <div class="mb-3">
        <label>Phone:</label>
        <input type="text" class="form-control" name="phone" value="{{ user.phone or '' }}">
      </div>
      <div class="mb-3">
        <label>Address:</label>
        <input type="text" class="form-control" name="address" value="{{ user.address or '' }}">
      </div>
      <div class="mb-3">
        <label>Gender:</label>
        <select class="form-control" name="gender">
          <option value="">Select</option>
          <option value="Male" {% if user.gender == 'Male' %}selected{% endif %}>Male</option>
          <option value="Female" {% if user.gender == 'Female' %}selected{% endif %}>Female</option>
          <option value="Other" {% if user.gender == 'Other' %}selected{% endif %}>Other</option>
        </select>
      </div>
      <div class="mb-3">
        <label>Date of Birth:</label>
        <input type="date" class="form-control" name="dob" value="{{ user.dob }}">
      </div>
    <button id="saveBtn" type="submit" class="btn btn-success">
      <span id="saveBtnText">Save</span>
      <span id="saveBtnSpinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
    </button>
  </form>
  <div id="profileMsg" class="mt-3"></div>
</div>
<script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock %}